---
import BaseLayout from '../layouts/BaseLayout.astro';
import Card from '../components/Card.astro';

const heroBackground = `/assets/grandmawhite.webp`;

const title = "NDIS Provider Sydney & Melbourne | Home Care, Accommodation, Support";
const description = "Your local NDIS provider in Sydney & Melbourne for SIL & SDA accommodation, 24/7 high-intensity home care, and expert support coordination. No waitlists for key services. Get a free consultation today.";
---

<style>
	/* Root Variables from Original Design */
	:root {
		--primary-color: #00529F;
		--primary-dark: #003d75;
		--primary-rgb: 0, 82, 159;
		--secondary-color: #FFC107;
		--background: #f8f9fa;
		--card-background: #ffffff;
		--text-color: #333;
		--text-light: #6c757d;
		--border-color: #dee2e6;
		--complementary: #e6f3ff;
	}
	
	main {
		padding: 0 !important;
		margin: 0 !important;
		overflow-x: hidden;
		width: 100%;
	}

	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 1rem;
	}

	/* Restored Hero Section Style */
	.hero-section {
		position: relative;
		min-height: 90vh;
		background-size: cover;
		background-position: center;
		background-attachment: fixed;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 4rem 0;
		isolation: isolate;
	}

	.hero-section::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(90deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.2) 100%);
		z-index: 1;
	}

	.hero-content {
		position: relative;
		max-width: 800px;
		text-align: center;
		color: var(--text-color);
		padding: 3rem;
		background: rgba(255, 255, 255, 0.8);
		backdrop-filter: blur(12px);
		-webkit-backdrop-filter: blur(12px);
		border-radius: 1.5rem;
		border: 1px solid rgba(255, 255, 255, 0.9);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		z-index: 2;
	}

	.hero-content h1 {
		font-size: clamp(2.5rem, 5vw, 3.8rem);
		font-weight: 800;
		line-height: 1.2;
		color: var(--primary-dark);
		margin-bottom: 1rem;
	}

	.hero-content p {
		font-size: 1.2rem;
		max-width: 650px;
		margin: 0 auto 2rem;
		line-height: 1.6;
		color: var(--text-color);
	}

	.hero-cta {
		display: flex;
		gap: 1.5rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.cta-primary {
		background: var(--primary-color);
		color: white;
		padding: 1rem 2.5rem;
		border-radius: 3rem;
		text-decoration: none;
		font-weight: 700;
		font-size: 1.1rem;
		transition: all 0.3s ease;
		box-shadow: 0 4px 15px rgba(0,0,0,0.2);
	}

	.cta-primary:hover {
		transform: translateY(-3px);
		box-shadow: 0 8px 25px rgba(0,0,0,0.3);
		background: var(--primary-dark);
	}

	.cta-secondary {
		background: transparent;
		color: var(--primary-color);
		padding: 1rem 2.5rem;
		border-radius: 3rem;
		text-decoration: none;
		font-weight: 700;
		font-size: 1.1rem;
		transition: all 0.3s ease;
		border: 2px solid var(--primary-color);
	}

	.cta-secondary:hover {
		background: var(--primary-color);
		color: white;
	}

	/* Restored Service Showcase Style */
	.service-showcase {
		padding: 5rem 1rem;
		background-color: var(--background);
	}

	.section-title {
		text-align: center;
		font-size: 2.5rem;
		font-weight: 700;
		color: var(--primary-color);
		margin-bottom: 3rem;
	}

	.services-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 2rem;
	}

	.service-card {
		background-color: var(--card-background);
		border: 1px solid var(--border-color);
		border-radius: 1rem;
		transition: transform 0.3s ease, box-shadow 0.3s ease;
		overflow: hidden;
		text-align: center;
	}

	.service-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 10px 20px rgba(0,0,0,0.08);
	}

	.service-image {
		height: 200px;
		overflow: hidden;
	}

	.service-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.4s ease;
	}

	.service-card:hover .service-image img {
		transform: scale(1.05);
	}

	.service-content {
		padding: 1.5rem;
	}

	.service-content h3 {
		font-size: 1.4rem;
		font-weight: 600;
		color: var(--text-color);
		margin-bottom: 0.5rem;
	}

	.service-content p {
		font-size: 1rem;
		color: var(--text-light);
		line-height: 1.5;
	}
	

	/* Suburb Finder - Styled to match */
	.suburb-finder {
		padding: 5rem 1rem;
		background-color: var(--primary-color);
		color: white;
	}

	.suburb-finder .section-title {
		color: white;
	}

	.suburb-search-container {
		max-width: 600px;
		margin: 0 auto;
		position: relative;
	}

	#suburb-search {
		width: 100%;
		padding: 1.2rem 1.5rem;
		font-size: 1.1rem;
		border-radius: 50px;
		border: 2px solid var(--secondary-color);
		outline: none;
		transition: border-color 0.2s ease, box-shadow 0.2s ease;
		-webkit-appearance: none;
	}

	/* Remove Chrome's ugly yellow autofill background */
	#suburb-search:-webkit-autofill,
	#suburb-search:-webkit-autofill:hover,
	#suburb-search:-webkit-autofill:focus,
	#suburb-search:-webkit-autofill:active {
		-webkit-box-shadow: 0 0 0 30px var(--card-background) inset !important;
		-webkit-text-fill-color: var(--text-color) !important;
	}

	#suburb-search:focus {
		border-color: var(--primary-color);
		box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.15);
	}

	#suburb-suggestions {
		display: none; /* Hide by default */
		position: absolute;
		width: 100%;
		background: white;
		color: black;
		border-radius: 1rem;
		margin-top: 0.5rem;
		max-height: 250px;
		overflow-y: auto;
		box-shadow: 0 10px 30px rgba(0,0,0,0.1);
		z-index: 10;
		text-align: left;
		border: 1px solid var(--border-color);
	}

	.suggestion-item {
		display: block;
		padding: 1.5rem;
		cursor: pointer;
		transition: all 0.2s ease-in-out;
		font-weight: 500;
		color: var(--text-color);
		text-decoration: none;
		border-bottom: 1px solid var(--border-color);
	}

	.suggestion-item:last-child {
		border-bottom: none;
	}

	.suggestion-item:hover, .suggestion-item:focus {
		background-color: var(--complementary);
    	color: var(--primary-dark);
		outline: none;
		transform: translateX(5px);
	}

	/* Trust Section - Styled to match */
	.trust-section {
		padding: 5rem 1rem;
		background-color: var(--background);
	}

	.trust-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
		gap: 2rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.trust-item {
		display: flex;
		align-items: flex-start;
		gap: 1.5rem;
		background: white;
		padding: 2rem;
		border-radius: 1rem;
		border: 1px solid var(--border-color);
	}

	.trust-icon {
		color: var(--primary-color);
		flex-shrink: 0;
		margin-top: 5px;
	}
	
	.trust-icon svg {
		width: 40px;
		height: 40px;
	}

	.trust-item h3 {
		font-size: 1.3rem;
		font-weight: 600;
		margin-bottom: 0.5rem;
	}
	
	.trust-item p {
		color: var(--text-light);
		line-height: 1.6;
	}

	/* Resource Hub */
	.resource-hub {
		padding: 5rem 1rem;
	}

	.posts-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
		gap: 2rem;
		max-width: 1200px;
		margin: 0 auto;
	}
	
	/* Testimonials */
	.testimonials {
		padding: 5rem 1rem;
		background-color: var(--complementary);
	}

	.testimonial-card {
		background: white;
		padding: 2.5rem;
		border-radius: 1rem;
		box-shadow: 0 10px 30px rgba(0,0,0,0.07);
		text-align: center;
		max-width: 700px;
		margin: 0 auto;
		border: 1px solid var(--border-color);
	}

	.testimonial-card p {
		font-size: 1.2rem;
		line-height: 1.7;
		font-style: italic;
		color: var(--text-light);
		margin-bottom: 1.5rem;
	}

	.testimonial-author {
		font-weight: 700;
		color: var(--primary-color);
	}

	.stars {
		color: var(--secondary-color);
		margin-bottom: 1rem;
		font-size: 1.5rem;
	}

	/* Service Modal */
	#service-modal-overlay {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0,0,0,0.6);
		z-index: 100;
		display: none;
		align-items: center;
		justify-content: center;
	}

	#service-modal {
		background: white;
		padding: 2rem;
		border-radius: 1rem;
		max-width: 800px;
		width: 90%;
		max-height: 80vh;
		overflow-y: auto;
		position: relative;
		}

	#modal-close-btn {
		position: absolute;
		top: 1rem;
		right: 1rem;
		background: none;
		border: none;
		font-size: 2rem;
		cursor: pointer;
		line-height: 1;
	}

	#modal-title {
		margin-top: 0;
		margin-bottom: 1.5rem;
		color: var(--primary-color);
	}

	#modal-service-list {
		list-style: none;
		padding: 0;
		margin: 0;
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 1rem;
		}

	#modal-service-list a {
		display: block;
		padding: 1rem;
		background: var(--background);
		border-radius: 0.5rem;
		text-decoration: none;
		color: var(--text-color);
		font-weight: 500;
		transition: all 0.2s ease;
	}

	#modal-service-list a:hover {
		background: var(--complementary);
		color: var(--primary-dark);
		transform: translateY(-2px);
	}
	
</style>

<BaseLayout {title} {description}>
	<!-- Hero Section -->
	<section class="hero-section" style={`background-image: url('${heroBackground}');`}>
		<div class="hero-content">
			<h1>Your Local NDIS Provider for Home Care, Accommodation & Support</h1>
			<p>Serving families across Sydney & Melbourne with trusted, 24/7 care. We offer SIL & SDA accommodation, high-intensity home support, and expert coordination with no waitlists for key services.</p>
			<div class="hero-cta">
				<a href="/contact" class="cta-primary">Get a Free Consultation</a>
				<a href="tel:+61863869999" class="cta-secondary">Call 08 6386 9999</a>
			</div>
		</div>
	</section>

	<!-- Service Showcase -->
	<section class="service-showcase">
		<div class="container">
			<h2 class="section-title">A Complete Range of NDIS Services</h2>
			<div class="services-grid">
				<a href="/services/disability-home-support-services" class="service-card">
					<div class="service-image"><img src="/assets/homecare.webp" alt="In-Home Support" /></div>
					<div class="service-content">
						<h3>In-Home Support</h3>
						<p>Personalized care, assistance, and high-intensity support in the comfort of your own home.</p>
					</div>
				</a>
				<a href="/services/sil-services" class="service-card">
					<div class="service-image"><img src="/assets/accessible-bathroom.webp" alt="SIL & SDA Accommodation" /></div>
					<div class="service-content">
						<h3>SIL & SDA Accommodation</h3>
						<p>Safe, modern, and supportive housing options tailored to your needs for independent living.</p>
					</div>
				</a>
				<a href="/services/community-access-support" class="service-card">
					<div class="service-image"><img src="/assets/elderlyaboriginal.webp" alt="Community Access" /></div>
					<div class="service-content">
						<h3>Community Access</h3>
						<p>Engage with your community, participate in activities, and build social connections with our support.</p>
					</div>
				</a>
				<a href="/services/ndis-specialist-support-coordination" class="service-card">
					<div class="service-image"><img src="/assets/carer.webp" alt="Specialist Coordination" /></div>
					<div class="service-content">
						<h3>Specialist Coordination</h3>
						<p>Expert guidance to help you understand, implement, and get the most out of your NDIS plan.</p>
					</div>
				</a>
			</div>
		</div>
	</section>

	<!-- Find Your Suburb -->
	<section class="suburb-finder">
		<div class="container">
			<h2 class="section-title">Find an NDIS Provider in Your Suburb</h2>
			<div class="suburb-search-container">
				<input type="text" id="suburb-search" placeholder="Start typing any suburb across Australia...">
				<div id="suburb-suggestions"></div>
			</div>
		</div>
	</section>

	<!-- Why Choose Us? -->
	<section class="trust-section">
		<div class="container">
			<h2 class="section-title">The MD Homecare Difference</h2>
			<div class="trust-grid">
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
					</div>
					<div>
						<h3>Vetted & Managed Professionals</h3>
						<p>We provide consistent, high-quality care you can rely on. Our team is fully managed and vetted, not a random marketplace.</p>
					</div>
				</div>
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
					</div>
					<div>
						<h3>No Waitlists for Key Services</h3>
						<p>We offer immediate availability for critical services like in-home support and SIL accommodation to get you the help you need, faster.</p>
					</div>
				</div>
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg>
					</div>
					<div>
						<h3>Registered Nurse-Led</h3>
						<p>Our services are overseen by registered nurses, ensuring clinical excellence and providing your family with total peace of mind.</p>
					</div>
				</div>
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>
					</div>
					<div>
						<h3>Culturally Competent Care</h3>
						<p>We celebrate diversity. Our team speaks a variety of languages and understands the cultural needs of the communities we serve.</p>
					</div>
				</div>
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M16.2 7.8l-4.4 4.4-2.8-2.8"></path></svg>
					</div>
					<div>
						<h3>Transparent Pricing & Budgeting</h3>
						<p>No hidden fees. We provide clear pricing and help you maximize your NDIS budget to achieve your goals.</p>
					</div>
				</div>
				<div class="trust-item">
					<div class="trust-icon">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 100 20 10 10 0 100-20z"></path><path d="M12 6v6l4 2"></path></svg>
					</div>
					<div>
						<h3>24/7 Support & High-Intensity Care</h3>
						<p>We specialize in complex and high-intensity care, with dedicated support available around the clock.</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Testimonials -->
	<section class="testimonials">
		<div class="container">
			<h2 class="section-title">Trusted by Families Across Australia</h2>
			<div class="testimonial-card">
				<div class="stars">★★★★★</div>
				<p>"MD Homecare has been a lifesaver for our family. The carers are professional, compassionate, and have become like family to us. We finally have peace of mind knowing our son is in the best possible hands. We couldn't recommend them more highly."</p>
				<div class="testimonial-author">- The Robertson Family, Parramatta</div>
			</div>
		</div>
	</section>

	<!-- Resource Hub -->
	<section class="resource-hub">
		<div class="container">
			<h2 class="section-title">Your NDIS Resource Hub</h2>
			<div class="posts-grid">
				<Card
					href="/blog/ndis-price-guide"
					title="The 2025 NDIS Price Guide: A Simple Breakdown"
					body="Understand the costs, plan your budget, and get the most out of your NDIS funding with our clear, simple guide."
				/>
				<Card
					href="/blog/ndis-support-worker-pay-rates"
					title="Support Worker Pay Rates: What You Need to Know"
					body="Whether you're a client budgeting for care or a worker exploring career options, our guide has the answers."
				/>
				<Card
					href="/blog/home-care-packages-australia-complete-guide"
					title="Home Care Packages Explained: A Complete Guide"
					body="Navigating aged care can be confusing. Our guide simplifies the process and explains your options."
				/>
			</div>
		</div>
	</section>

	<!-- Service Modal -->
	<div id="service-modal-overlay">
		<div id="service-modal">
			<button id="modal-close-btn">&times;</button>
			<h2 id="modal-title"></h2>
			<ul id="modal-service-list"></ul>
		</div>
	</div>

</BaseLayout>

<script>
	// --- DATA ---
	const services = [
		{ name: "Accommodation Support", slug: "accommodation-support" },
		{ name: "Aged Care Advocacy", slug: "aged-care-advocacy" },
		{ name: "Home Modifications", slug: "aged-care-home-modifications-maintenance" },
		{ name: "Allied Health", slug: "allied-health-disciplines" },
		{ name: "Assistive Technology", slug: "assistive-technology-assessment" },
		{ name: "Behaviour Support", slug: "behaviour-support" },
		{ name: "Clinical Care", slug: "clinical-care" },
		{ name: "Community Access", slug: "community-access-support" },
		{ name: "Community Nursing", slug: "community-nursing-care" },
		{ name: "Companionship Services", slug: "companionship-services" },
		{ name: "Complex Care", slug: "complex-care" },
		{ name: "Continence Care", slug: "continence-care-home" },
		{ name: "Domestic Assistance", slug: "domestic-assistance" },
		{ name: "Home Care Packages", slug: "home-care-packages" },
		{ name: "Life Skills Development", slug: "life-skills-development" },
		{ name: "Meal Preparation", slug: "meal-preparation-support" },
		{ name: "Occupational Therapy", slug: "occupational-therapy-home" },
		{ name: "Personal Care", slug: "personal-care" },
		{ name: "Physiotherapy", slug: "physiotherapy-home-care" },
		{ name: "Plan Management", slug: "plan-management" },
		{ name: "Psychosocial Recovery Coaching", slug: "psychosocial-recovery-coaching" },
		{ name: "Respite Care", slug: "respite-care" },
		{ name: "SIL Services", slug: "sil-services" },
		{ name: "Specialist Coordination", slug: "ndis-specialist-support-coordination" },
		{ name: "Specialist Disability Accommodation", slug: "specialist-disability-accommodation" },
		{ name: "Support Workers", slug: "support-workers" },
		{ name: "Transport Services", slug: "transport-services" }
	];

	// --- DOM ELEMENTS ---
	const searchInput = document.getElementById('suburb-search') as HTMLInputElement;
	const suggestionsPanel = document.getElementById('suburb-suggestions') as HTMLDivElement;
	const modalOverlay = document.getElementById('service-modal-overlay') as HTMLDivElement;
	const modal = document.getElementById('service-modal') as HTMLDivElement;
	const modalTitle = document.getElementById('modal-title') as HTMLHeadingElement;
	const modalServiceList = document.getElementById('modal-service-list') as HTMLUListElement;
	const modalCloseBtn = document.getElementById('modal-close-btn') as HTMLButtonElement;

	let suburbs: { [key: string]: { state: string; region: string } } = {};

	// --- FUNCTIONS ---
	async function fetchSuburbs() {
		try {
			const response = await fetch('/data/australian-suburbs.json');
			if (!response.ok) {
				throw new Error('Network response was not ok');
			}
			suburbs = await response.json();
		} catch (error) {
			console.error('Failed to fetch suburbs:', error);
		}
	}

	function displaySuggestions(input: string) {
		const suburbKeys = Object.keys(suburbs);
		const filteredSuburbs = suburbKeys.filter(suburb => suburb.toLowerCase().startsWith(input));
		suggestionsPanel.innerHTML = '';

		if (filteredSuburbs.length > 0) {
			filteredSuburbs.forEach(suburb => {
				const a = document.createElement('a');
				a.href = '#'; // Use a placeholder href for semantics
				const state = suburbs[suburb].state;
				const displayName = toTitleCase(suburb.replace(/-/g, ' '));
				a.textContent = `${displayName}, ${state}`;
				a.className = 'suggestion-item';
				a.onclick = (e) => {
					e.preventDefault(); // Prevent navigation
					showServicesForSuburb(suburb);
				};
				suggestionsPanel.appendChild(a);
			});
			suggestionsPanel.style.display = 'block';
		} else {
			suggestionsPanel.style.display = 'none';
		}
	}

	function toTitleCase(str: string) {
		return str.replace(/\w\S*/g, (txt: string) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());
	}
	
	function showServicesForSuburb(suburbKey: string) {
		const displayName = toTitleCase(suburbKey.replace(/-/g, ' '));
		modalTitle.textContent = `Available Services in ${displayName}`;
		modalServiceList.innerHTML = '';

		services.forEach(service => {
			const li = document.createElement('li');
			const a = document.createElement('a');
			a.href = `/services/${service.slug}/${suburbKey}`;
			a.textContent = service.name;
			li.appendChild(a);
			modalServiceList.appendChild(li);
		});

		modalOverlay.style.display = 'flex';
		suggestionsPanel.style.display = 'none';
		searchInput.value = '';
	}

	function closeModal() {
		modalOverlay.style.display = 'none';
	}
	
	// --- EVENT LISTENERS ---
	searchInput.addEventListener('input', () => {
		const input = searchInput.value.toLowerCase();
		if (input.length > 1) {
			displaySuggestions(input);
		} else {
			suggestionsPanel.style.display = 'none';
		}
	});

	document.addEventListener('click', (e) => {
		const target = e.target as HTMLElement;
		if (!suggestionsPanel.contains(target) && target !== searchInput) {
			suggestionsPanel.style.display = 'none';
		}
	});

	modalCloseBtn.addEventListener('click', closeModal);
	modalOverlay.addEventListener('click', (e) => {
		if (e.target === modalOverlay) {
			closeModal();
		}
	});

	// --- INITIALIZATION ---
	fetchSuburbs();

</script>
